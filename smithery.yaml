# Smithery configuration file: https://smithery.ai/docs/config#smitheryyaml

startCommand:
  type: stdio
  configSchema:
    # JSON Schema defining the configuration options for the MCP.
    type: object
    properties:
      debug:
        type: boolean
        default: false
        description: Enable debug mode for verbose logging
      output_dir:
        type: string
        default: /app/output
        description: Directory to store generated diagram files (if applicable)
    description: UML diagram generation server with MCP interface supporting
      PlantUML, Mermaid, Kroki, and D2
  exampleConfig:
    debug: false
    output_dir: /app/output
  commandFunction:
    # A JS function that produces the CLI command based on the given config to start the MCP on stdio.
    |-
    (config) => {
      // Build command arguments
      const args = ["mcp_server.py", "--transport", "stdio"];
      
      // Add debug flag if enabled
      if (config.debug) {
        args.push("--debug");
      }
      
      // Return command configuration
      return {
        command: "python",
        args: args,
        env: {
          "UML_MCP_OUTPUT_DIR": config.output_dir
        }
      };
    }
